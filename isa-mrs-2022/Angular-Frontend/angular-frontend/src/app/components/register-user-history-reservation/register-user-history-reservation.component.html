<app-home-page-menu></app-home-page-menu>
<mat-grid-list cols="16" [style.background]="'fff'" style="margin-top: 10em;" [gutterSize]="'5px'">
    <mat-grid-tile></mat-grid-tile>
    <mat-grid-tile></mat-grid-tile>
    <mat-grid-tile></mat-grid-tile>
    <mat-grid-tile></mat-grid-tile>
    <mat-grid-tile></mat-grid-tile>
    <mat-grid-tile></mat-grid-tile>

    <mat-grid-tile><button (click)="set_entity_type_cottage()" type="button"
            class="btn btn-new btn-lg box-shadow--8dp"><i class="fa fa-home" aria-hidden="true"
                style="font-size: 50px;"></i></button> </mat-grid-tile>
    <mat-grid-tile><button (click)="set_entity_type_boat()" type="button"
            class="btn btn-primary btn-lg box-shadow--8dp"><i class="fa-solid fa-ship"
                style="font-size: 50px;"></i></button> </mat-grid-tile>
    <mat-grid-tile><button (click)="set_entity_type_adventure()" type=" button"
            class="btn btn-info btn-lg box-shadow--8dp"><i class="fas fa-map-marked-alt"
                style="font-size: 50px;"></i></button> </mat-grid-tile>

</mat-grid-list>
<div class="sort-container" style="margin-left: 81em;">

    <mat-form-field appearance="fill">
        <mat-label>Reservation Type</mat-label>
        <mat-select (selectionChange)="setSortType($event.value)">
            <mat-option *ngFor="let type of types" [value]="type.value">
                {{type.viewValue}}
            </mat-option>
        </mat-select>
    </mat-form-field>
    <div></div>
    <mat-form-field appearance="fill">
        <mat-label>Reservation Subtype</mat-label>
        <mat-select (selectionChange)="setSortSubType($event.value)">
            <mat-option *ngFor="let type of subtypes" [value]="type.value">
                {{type.viewValue}}
            </mat-option>
        </mat-select>
    </mat-form-field>
</div>











<div>
    <div *ngIf="entity_type==0" [@fadeInOut]>
        <div class="container mt mat-elevation-z8"
            style="display: inline-block; margin-top: 3em;margin-bottom: 5em;margin-left: 13%;">
            <table mat-table [dataSource]="cottageHistoryReservation">
                <!-- id Column -->
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> No. </th>
                    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                </ng-container>

                <!-- startAction Column -->
                <ng-container matColumnDef="reservationStart">
                    <th mat-header-cell *matHeaderCellDef> Reservation Start </th>
                    <td mat-cell *matCellDef="let element"> {{element.reservationStart|date}} </td>
                </ng-container>

                <!-- endAction Column -->
                <ng-container matColumnDef="reservationEnd">
                    <th mat-header-cell *matHeaderCellDef> Reservation End </th>
                    <td mat-cell *matCellDef="let element"> {{element.reservationEnd|date}} </td>
                </ng-container>
                <!-- endAction Column -->

                <ng-container matColumnDef="pricelistItem.price">
                    <th mat-header-cell *matHeaderCellDef> &nbsp;Price </th>
                    <td mat-cell *matCellDef="let element"> {{element.price}} </td>
                </ng-container>

                <ng-container matColumnDef="pricelistItem.description">
                    <th mat-header-cell *matHeaderCellDef>Description </th>
                    <td mat-cell *matCellDef="let element"> {{element.pricelistItem.description}} </td>
                </ng-container>


                <ng-container matColumnDef="cottageID">
                    <th mat-header-cell *matHeaderCellDef> &nbsp; &nbsp; &nbsp; &nbsp;Cottage Profile </th>
                    <td mat-cell *matCellDef="let element"> <button class="btn btn-success"
                            [routerLink]="['/loginProfileCottage/'+ element.cottageID ]">Profile View
                            {{element.cottageID}}</button> </td>
                </ng-container>
                <ng-container matColumnDef="complaints">
                    <th mat-header-cell *matHeaderCellDef> &nbsp; &nbsp; &nbsp;Complaints </th>
                    <td mat-cell *matCellDef="let element">
                        <!-- <button data-bs-target="#modal1" data-bs-toggle="modal"
                            (click)="openPopup()" [disabled]="checkCottageMarkComplaint(element.id)"
                            class="btn btn-warning" style="color: white;">Complaints</button> -->
                        <!-- Button trigger modal -->
                        <button type="button" [disabled]="checkCottageMarkComplaint(element.id)" class="btn btn-warning"
                            data-toggle="modal" data-target="#cottageComplaintModal" style="color: white;"
                            (click)="saveCtgId(element.cottageID)">
                            Complaint {{element.cottageID}}
                        </button>
                        <!-- Modal COTTAGE COMPLAINT-->
                        <div class="modal fade" id="cottageComplaintModal" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Cottage Complaint</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form [formGroup]="cottageComplaintForm">
                                            <input id="answer" [(ngModel)]="answer" formControlName="answer"
                                                placeholder="Write Complaint" class="form-control mb-4" type="text" />

                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-success"
                                            data-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-warning" style="color: white;"
                                            (click)="cottageComplaint(element.cottageID)" data-dismiss="modal">
                                            Answer</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </td>
                </ng-container>





                <!--[disabled]="checkCottageMarkComplaint(element.id)" (click)="openPopup()" -->
                <ng-container matColumnDef="mark">
                    <th mat-header-cell *matHeaderCellDef> &nbsp; &nbsp; &nbsp;Mark </th>
                    <td mat-cell *matCellDef="let element">
                        <button type="button" (click)="saveCtgId(element.cottageID)" data-target="#cottageMarkModal"
                            data-toggle="modal" [disabled]="checkCottageMarkComplaint(element.id)"
                            class="btn btn-info">Mark</button>


                        <!-- Modal COTTAGE COMPLAINT-->
                        <div class="modal fade" id="cottageMarkModal" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Cottage Mark</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form [formGroup]="cottageMarkForm">
                                            <input id="answer" [(ngModel)]="answer" formControlName="answer"
                                                placeholder="Write Mark" class="form-control mb-4" type="text" />

                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-success"
                                            data-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-warning" style="color: white;"
                                            (click)="cottageMark(element.cottageID)" data-dismiss="modal">
                                            Answer </button>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </td>
                </ng-container>

                <ng-container matColumnDef="cancel">
                    <th mat-header-cell *matHeaderCellDef> &nbsp; &nbsp; &nbsp;Cancle </th>
                    <td mat-cell *matCellDef="let element"> <button (click)="delete_cottage(element.id)"
                            [disabled]="checkCottageId(element.id)" class="btn btn-danger">Cancle</button>
                    </td>
                </ng-container>



                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>

    </div>

    <div *ngIf="entity_type==1" [@fadeInOut]>
        <div class="container mt mat-elevation-z8"
            style="display: inline-block; margin-top: 3em;margin-bottom: 5em;margin-left: 13%;">
            <table mat-table [dataSource]="boatHistoryReservation">
                <!-- id Column -->
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> No. </th>
                    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                </ng-container>

                <!-- startAction Column -->
                <ng-container matColumnDef="reservationStart">
                    <th mat-header-cell *matHeaderCellDef> Reservation Start </th>
                    <td mat-cell *matCellDef="let element"> {{element.reservationStart|date}} </td>
                </ng-container>

                <!-- endAction Column -->
                <ng-container matColumnDef="reservationEnd">
                    <th mat-header-cell *matHeaderCellDef> Reservation End </th>
                    <td mat-cell *matCellDef="let element"> {{element.reservationEnd|date}} </td>
                </ng-container>

                <ng-container matColumnDef="pricelistItem.price">
                    <th mat-header-cell *matHeaderCellDef> &nbsp;Price </th>
                    <td mat-cell *matCellDef="let element"> {{element.price}} </td>
                </ng-container>

                <ng-container matColumnDef="pricelistItem.description">
                    <th mat-header-cell *matHeaderCellDef>Description </th>
                    <td mat-cell *matCellDef="let element"> {{element.pricelistItem.description}} </td>
                </ng-container>


                <ng-container matColumnDef="boatID">
                    <th mat-header-cell *matHeaderCellDef> &nbsp; &nbsp; &nbsp; &nbsp;Boat Profile </th>
                    <td mat-cell *matCellDef="let element"> <button class="btn btn-success"
                            [routerLink]="['/loginProfileBoat/'+ element.boatID ]">Profile View
                            {{element.boatID}}</button> </td>
                </ng-container>
                <ng-container matColumnDef="complaints">
                    <th mat-header-cell *matHeaderCellDef> &nbsp; &nbsp; &nbsp;Complaints </th>
                    <td mat-cell *matCellDef="let element"> <button (click)="saveCtgId(element.boatID)" type="button"
                            data-target="#boatComplaintModal" data-toggle="modal"
                            [disabled]="checkBoatMarkComplaint(element.id)" class="btn btn-warning"
                            style="color: white;">Complaints</button>

                        <!-- Modal BOAT COMPLAINT-->
                        <div class="modal fade" id="boatComplaintModal" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Boat Complaint</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form [formGroup]="boatComplaintForm">
                                            <input id="answer" [(ngModel)]="answer" formControlName="answer"
                                                placeholder="Write Complaint" class="form-control mb-4" type="text" />

                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-success"
                                            data-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-warning" style="color: white;"
                                            (click)="boatComplaint(element.boatID)" data-dismiss="modal">
                                            Answer</button>
                                    </div>
                                </div>
                            </div>
                        </div>



                    </td>
                </ng-container>

                <ng-container matColumnDef="mark">
                    <th mat-header-cell *matHeaderCellDef> &nbsp; &nbsp; &nbsp;Mark </th>
                    <td mat-cell *matCellDef="let element"> <button (click)="saveCtgId(element.boatID)" type="button"
                            data-target="#boatMarkModal" data-toggle="modal"
                            [disabled]="checkBoatMarkComplaint(element.id)" class="btn btn-info">Mark</button>


                        <!-- Modal BOAT MARK -->
                        <div class="modal fade" id="boatMarkModal" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Boat Mark</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form [formGroup]="boatMarkForm">
                                            <input id="answer" [(ngModel)]="answer" formControlName="answer"
                                                placeholder="Write Mark" class="form-control mb-4" type="text" />

                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-success"
                                            data-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-info" style="color: white;"
                                            (click)="boatMark(element.boatID)" data-dismiss="modal">
                                            Answer</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="cancel">
                    <th mat-header-cell *matHeaderCellDef> &nbsp; &nbsp; &nbsp;Cancle </th>
                    <td mat-cell *matCellDef="let element"> <button (click)="delete_boat(element.id)"
                            [disabled]="checkBoatId(element.id)" class="btn btn-danger">Cancle</button> </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumnsBoat"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumnsBoat;"></tr>
            </table>
        </div>
    </div>

    <div *ngIf="entity_type==2" [@fadeInOut]>
        <div class="container mt mat-elevation-z8"
            style="display: inline-block; margin-top: 3em;margin-bottom: 5em;margin-left: 13%;">
            <table mat-table [dataSource]="adventureHistoryReservation">
                <!-- id Column -->
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> No. </th>
                    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                </ng-container>

                <!-- startAction Column -->
                <ng-container matColumnDef="reservationStart">
                    <th mat-header-cell *matHeaderCellDef> Reservation Start </th>
                    <td mat-cell *matCellDef="let element"> {{element.reservationStart|date}} </td>
                </ng-container>

                <!-- endAction Column -->
                <ng-container matColumnDef="reservationEnd">
                    <th mat-header-cell *matHeaderCellDef> Reservation End </th>
                    <td mat-cell *matCellDef="let element"> {{element.reservationEnd|date}} </td>
                </ng-container>
                <ng-container matColumnDef="pricelistItem.price">
                    <th mat-header-cell *matHeaderCellDef> &nbsp;Price </th>
                    <td mat-cell *matCellDef="let element"> {{element.price}} </td>
                </ng-container>

                <ng-container matColumnDef="pricelistItem.description">
                    <th mat-header-cell *matHeaderCellDef>Description </th>
                    <td mat-cell *matCellDef="let element"> {{element.pricelistItem.description}} </td>
                </ng-container>
                <ng-container matColumnDef="adventureID">
                    <th mat-header-cell *matHeaderCellDef> &nbsp; &nbsp; Adventure Profile </th>
                    <td mat-cell *matCellDef="let element"> <button class="btn btn-success"
                            [routerLink]="['/loginProfileAdventure/'+ element.adventureID ]">Profile View
                            {{element.adventureID}}</button> </td>
                </ng-container>
                <ng-container matColumnDef="complaints">
                    <th mat-header-cell *matHeaderCellDef> &nbsp; &nbsp; &nbsp;Complaints </th>
                    <td mat-cell *matCellDef="let element"> <button (click)="saveCtgId(element.adventureID)"
                            type="button" [disabled]="checkAdventureIdMarkComplaint(element.id)" class="btn btn-warning"
                            data-target="#adventureComplaintModal" data-toggle="modal"
                            style="color: white;">Complaints</button>


                        <!-- Modal ADVENTURE COMPLAINT-->
                        <div class="modal fade" id="adventureComplaintModal" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Adventure Complaint</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form [formGroup]="adventureComplaintForm">
                                            <input id="answer" [(ngModel)]="answer" formControlName="answer"
                                                placeholder="Write Complaint" class="form-control mb-4" type="text" />

                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-success"
                                            data-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-warning" style="color: white;"
                                            (click)="adventureComplaint(element.adventureID)" data-dismiss="modal">
                                            Answer</button>
                                    </div>
                                </div>
                            </div>
                        </div>



                    </td>
                </ng-container>

                <ng-container matColumnDef="mark">
                    <th mat-header-cell *matHeaderCellDef> &nbsp; &nbsp; &nbsp;Mark </th>
                    <td mat-cell *matCellDef="let element"> <button (click)="saveCtgId(element.adventureID)"
                            type="button" data-target="#adventureMarkModal" data-toggle="modal"
                            [disabled]="checkAdventureIdMarkComplaint(element.id)" class="btn btn-info">Mark</button>


                        <!-- Modal ADVENTURE MARK -->
                        <div class="modal fade" id="adventureMarkModal" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">Adventure Mark</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form [formGroup]="adventureMarkForm">
                                            <input id="answer" [(ngModel)]="answer" formControlName="answer"
                                                placeholder="Write Mark" class="form-control mb-4" type="text" />

                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-success"
                                            data-dismiss="modal">Close</button>
                                        <button type="button" class="btn btn-info" style="color: white;"
                                            (click)="adventureMark(element.adventureID)" data-dismiss="modal">
                                            Answer</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="cancel">
                    <th mat-header-cell *matHeaderCellDef> &nbsp; &nbsp; &nbsp;Cancle </th>
                    <td mat-cell *matCellDef="let element"> <button (click)="delete_adventure(element.id)"
                            [disabled]="checkAdventureId(element.id)" class="btn btn-danger">Cancle</button> </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumnsAdventure"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumnsAdventure;"></tr>
            </table>
        </div>
    </div>

</div>